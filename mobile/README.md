# Prisbo Mobile Application

React Native mobile application for Prisbo Matrimony Platform using Expo

## Setup

1. Install dependencies:
```bash
npm install
```

2. Create `.env` file:
```bash
EXPO_PUBLIC_API_URL=http://localhost:5000/api
```

3. Start the Expo development server:
```bash
npm start
```

4. Run on iOS:
```bash
npm run ios
```

5. Run on Android:
```bash
npm run android
```

## Features

- User authentication (Login/Register)
- Profile creation and management
- Search and filter profiles
- Send/Receive interests
- Favorites management
- Chat/Messaging
- Native mobile experience

## Tech Stack

- React Native
- Expo
- React Navigation
- Axios
- AsyncStorage

## Building APK Locally (Without EAS)

You can build APK files locally without using EAS Build. Here are the options:

### Prerequisites

1. **Java Development Kit (JDK)**: Install JDK 17 or later
   - macOS: `brew install openjdk@17`
   - Or download from [Oracle](https://www.oracle.com/java/technologies/downloads/) or [Adoptium](https://adoptium.net/)

2. **Android Studio**: Install Android Studio and set up Android SDK
   - Download from [developer.android.com](https://developer.android.com/studio)
   - Install Android SDK (API level 34 recommended)
   - Set up environment variables:
     ```bash
     export ANDROID_HOME=$HOME/Library/Android/sdk
     export PATH=$PATH:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools
     ```
     Add these to your `~/.zshrc` or `~/.bashrc` file

3. **Android Build Tools**: Ensure build tools version 34.0.0 is installed (configured in `app.json`)

### Build Methods

#### Method 1: Using the Build Script (Recommended)

**Debug APK (for testing):**
```bash
npm run build:apk
# or
./build-apk-local.sh
```

**Release APK (for distribution):**
```bash
npm run build:apk:release
# or
./build-apk-local.sh --release
```

The script will:
1. Install dependencies
2. Generate native Android project with `expo prebuild`
3. Build APK using Gradle
4. Copy APK to the project root with timestamp

#### Method 2: Manual Steps

1. **Generate native code:**
   ```bash
   npm run prebuild:android
   ```

2. **Build APK:**
   ```bash
   # Debug APK
   npm run build:android
   
   # Release APK (requires signing)
   npm run build:android:release
   ```

3. **Find your APK:**
   - Debug: `android/app/build/outputs/apk/debug/app-debug.apk`
   - Release: `android/app/build/outputs/apk/release/app-release.apk`

#### Method 3: Using Android Studio

1. Run `npm run prebuild:android` to generate native code
2. Open `android` folder in Android Studio
3. Build → Build Bundle(s) / APK(s) → Build APK(s)
4. APK will be in `app/build/outputs/apk/`

### Signing Release APK (Optional)

For release builds, you may want to sign the APK:

1. Generate a keystore:
   ```bash
   keytool -genkeypair -v -storetype PKCS12 -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000
   ```

2. Create `android/keystore.properties`:
   ```properties
   storePassword=your-store-password
   keyPassword=your-key-password
   keyAlias=my-key-alias
   storeFile=my-release-key.keystore
   ```

3. Update `android/app/build.gradle` to use the keystore (Expo will handle this automatically if configured)

### Installing APK on Device

```bash
# Connect your Android device via USB and enable USB debugging
adb install app-*.apk
```

## Notes

- Make sure you have Expo CLI installed globally: `npm install -g expo-cli`
- For iOS development, you need Xcode installed
- For Android development, you need Android Studio installed
- Update the API URL in `.env` file to match your backend server
- The `android` folder is generated by `expo prebuild` and can be regenerated anytime
- You can add `android/` to `.gitignore` if you don't want to commit native code

